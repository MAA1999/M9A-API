<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>M9A API</title>
  <style>
    body { font-family: system-ui, sans-serif; max-width: 900px; margin: 40px auto; padding: 0 20px; }
    h1 { color: #333; }
    h2 { color: #555; margin-top: 30px; }
    .section { margin: 30px 0; }
    .endpoint { background: #f5f5f5; padding: 10px; margin: 10px 0; border-radius: 4px; }
    code { color: #e83e8c; }
    a { color: #007bff; text-decoration: none; }
    a:hover { text-decoration: underline; }
    pre { background: #fff; padding: 10px; overflow-x: auto; border: 1px solid #ddd; }
    .api-base { background: #e7f3ff; padding: 10px; border-left: 4px solid #007bff; margin: 20px 0; }
  </style>
</head>
<body>
  <h1>M9A API</h1>
  <div class="api-base">
    <strong>API Base URL:</strong> <code>https://api.1999.fan/api</code>
  </div>

  <div class="section">
    <h2>ğŸ“Š æ´»åŠ¨æ•°æ® (Activity Data)</h2>
    <p>å¤šè¯­è¨€æ´»åŠ¨æ•°æ® JSON æ–‡ä»¶ï¼š</p>
    
    <div class="endpoint">
      <h3>ä¸­æ–‡ (CN)</h3>
      <code><a href="api/resource/data/activity/cn.json">api/resource/data/activity/cn.json</a></code>
    </div>
    
    <div class="endpoint">
      <h3>English (EN)</h3>
      <code><a href="api/resource/data/activity/en.json">api/resource/data/activity/en.json</a></code>
    </div>
    
    <div class="endpoint">
      <h3>æ—¥æœ¬èª (JP)</h3>
      <code><a href="api/resource/data/activity/jp.json">api/resource/data/activity/jp.json</a></code>
    </div>
    
    <div class="endpoint">
      <h3>ç¹é«”ä¸­æ–‡ (TW)</h3>
      <code><a href="api/resource/data/activity/tw.json">api/resource/data/activity/tw.json</a></code>
    </div>
    
    <div class="endpoint" style="margin-top: 15px;">
      <h3>ğŸ“‹ Activity Manifest</h3>
      <code><a href="api/resource/data/activity/manifest.json">api/resource/data/activity/manifest.json</a></code>
      <p style="font-size: 14px; color: #666; margin: 5px 0 0 0;">
        æ–‡ä»¶åˆ—è¡¨åŠå…ƒæ•°æ®ï¼ˆæ–‡ä»¶åã€è·¯å¾„ã€å¤§å°ã€æ›´æ–°æ—¶é—´ã€SHA256 å“ˆå¸Œï¼‰
      </p>
    </div>
  </div>

  <div class="section">
    <h2>âš”ï¸ æˆ˜æ–—æ•°æ® (Combat Data)</h2>
    <div class="endpoint">
      <h3>æˆ˜æ–—ç‰©å“</h3>
      <code><a href="api/resource/data/combat/items.json">api/resource/data/combat/items.json</a></code>
    </div>
    
    <div class="endpoint" style="margin-top: 15px;">
      <h3>ğŸ“‹ Combat Manifest</h3>
      <code><a href="api/resource/data/combat/manifest.json">api/resource/data/combat/manifest.json</a></code>
    </div>
  </div>

  <div class="section">
    <h2>ğŸ”‡ SOS æ•°æ® (Syndrome of Silence)</h2>
    <div class="endpoint">
      <h3>SOS ç‰©å“</h3>
      <code><a href="api/resource/data/sos/items.json">api/resource/data/sos/items.json</a></code>
    </div>
    
    <div class="endpoint">
      <h3>SOS èŠ‚ç‚¹</h3>
      <code><a href="api/resource/data/sos/nodes.json">api/resource/data/sos/nodes.json</a></code>
    </div>
    
    <div class="endpoint" style="margin-top: 15px;">
      <h3>ğŸ“‹ SOS Manifest</h3>
      <code><a href="api/resource/data/sos/manifest.json">api/resource/data/sos/manifest.json</a></code>
    </div>
  </div>

  <div class="section">
    <h2>ğŸ–¼ï¸ å›¾ç‰‡ (Images)</h2>
    <div class="endpoint">
      <h3>é­”ç²¾ç»Ÿè®¡è¡¨</h3>
      <code><a href="api/images/mojing_tjb.png">api/images/mojing_tjb.png</a></code>
      <p style="font-size: 14px; color: #666; margin: 5px 0 0 0;">
        æ¯æ—¥è‡ªåŠ¨æ›´æ–°ï¼ˆUTC 0:05ï¼‰
      </p>
    </div>
    
    <div class="endpoint" style="margin-top: 15px;">
      <h3>ğŸ“‹ Images Manifest</h3>
      <code><a href="api/images/manifest.json">api/images/manifest.json</a></code>
    </div>
  </div>

  <div class="section">
    <h2>ğŸ—‚ï¸ Manifest å±‚çº§ç»“æ„</h2>
    <div class="endpoint">
      <h3>æ ¹ Manifest</h3>
      <code><a href="api/manifest.json">api/manifest.json</a></code>
      <p style="font-size: 14px; color: #666; margin: 5px 0 0 0;">
        åŒ…å« images/ å’Œ resource/ ä¸¤ä¸ªå­ç›®å½•çš„ä¿¡æ¯
      </p>
    </div>
    
    <div class="endpoint">
      <h3>Resource Manifest</h3>
      <code><a href="api/resource/manifest.json">api/resource/manifest.json</a></code>
    </div>
    
    <div class="endpoint">
      <h3>Data Manifest</h3>
      <code><a href="api/resource/data/manifest.json">api/resource/data/manifest.json</a></code>
    </div>
  </div>
  
  <div class="section">
    <h2>ğŸ’» ç¨‹åºåŒ–è®¿é—®ç¤ºä¾‹</h2>
    <details style="margin: 20px 0; padding: 15px; background: #f9f9f9; border-radius: 4px;">
      <summary style="cursor: pointer; font-weight: bold;">ğŸ’¡ Pythonï¼šæ‰¹é‡ä¸‹è½½æ‰€æœ‰æ´»åŠ¨æ•°æ®</summary>
      <pre style="margin-top: 10px;"><code>import requests

base_url = 'https://api.1999.fan/api'

# è¯»å– activity manifest
manifest = requests.get(f'{base_url}/resource/data/activity/manifest.json').json()

# ä¸‹è½½æ‰€æœ‰æ–‡ä»¶
for file in manifest['files']:
    url = f"{base_url}/{file['path']}"
    response = requests.get(url)
    
    # éªŒè¯æ–‡ä»¶å®Œæ•´æ€§
    import hashlib
    downloaded_hash = hashlib.sha256(response.content).hexdigest()
    if downloaded_hash == file['hash']:
        with open(file['name'], 'wb') as f:
            f.write(response.content)
        print(f"âœ“ {file['name']} ({file['size']} bytes)")
    else:
        print(f"âœ— {file['name']} hash mismatch!")

print(f"\nTotal: {len(manifest['files'])} files")</code></pre>
    </details>

    <details style="margin: 20px 0; padding: 15px; background: #f9f9f9; border-radius: 4px;">
      <summary style="cursor: pointer; font-weight: bold;">ğŸ’¡ JavaScriptï¼šè·å–æœ€æ–°çš„é­”ç²¾å›¾ç‰‡</summary>
      <pre style="margin-top: 10px;"><code>const baseUrl = 'https://api.1999.fan/api';

// è¯»å– images manifest
const manifest = await fetch(`${baseUrl}/images/manifest.json`).then(r => r.json());

// æ‰¾åˆ°é­”ç²¾å›¾ç‰‡
const mojingFile = manifest.files.find(f => f.name === 'mojing_tjb.png');
console.log(`Latest update: ${new Date(mojingFile.updated)}`);
console.log(`SHA256: ${mojingFile.hash}`);

// æ˜¾ç¤ºå›¾ç‰‡
const img = document.createElement('img');
img.src = `${baseUrl}/${mojingFile.path}`;
document.body.appendChild(img);</code></pre>
    </details>
  </div>
  
  <hr style="margin: 40px 0;">
  <p style="color: #999; font-size: 13px; text-align: center;">
    æ•°æ®æº: <a href="https://github.com/MAA1999/M9A">MAA1999/M9A</a> | 
    API ä»“åº“: <a href="https://github.com/MAA1999/M9A-API">MAA1999/M9A-API</a>
  </p>
</body>
</html>
